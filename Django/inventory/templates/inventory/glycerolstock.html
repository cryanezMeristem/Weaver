{% extends "inventory/parts/glycerolstock-base.html" %}
{% load general_extras %}

{% block content %}
{% if glycerolstock %}
{% include "./form_results.html" %}
<table class="table table-hover">
    <thead>
    <tr>
        <th scope="col">Property</th>
        <th scope="col">Value</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <th scope="row">Strain</th>
        <td>{{glycerolstock.strain}}</td>
    </tr>
    <tr>
        <th scope="row">Strain description</th>
        <td>{{glycerolstock.strain.description}}</td>
    </tr>
    {% if glycerolstock.plasmid %}
    <tr>
        <th scope="row">Plasmid</th>
        <td>
            {% with pr=glycerolstock.plasmid %}
                {% include "inventory/parts/plasmid-button.html" %}
            {% endwith %}
        </td>
    </tr>
    <tr>
        <th scope="row">Colony</th>
        <td>
            {{glycerolstock.plasmid.working_colony_text}}
        </td>
    </tr>
    {% endif %}
    <tr>
        <th scope="row">Parent</th>
        <td>
        {% if glycerolstock.parent %}
            <a href="{% url 'glycerolstock' glycerolstock_id=glycerolstock.parent.id %}" class="btn btn-outline-secondary" role="button">
                {{glycerolstock.parent}}
            </a>
        {% else %}
            No parent
        {% endif %}
        </td>
    </tr>
    <tr>
        <th scope="row">Selectable markers</th>
        <td>
            {% if glycerolstock.resistantes_strain_human %}<strong>Strain Marker</strong>:
            {{ glycerolstock.resistantes_strain_human }}
            <br/>{% endif %}
            {% if glycerolstock.resistantes_human %}<strong>Plasmid Marker</strong>:
            {{ glycerolstock.resistantes_human }}
            <br/>{% endif %}
        </td>
    </tr>
    <tr>
        <th scope="row">Created on</th>
        <td>{{glycerolstock.created_on}}</td>
    </tr>
    <tr>
        <th scope="row">Project</th>
        <td>{{glycerolstock.project}}</td>
    </tr>
    <tr>
        <th scope="row">Location</th>
        <td><table class="table table-hover">
               <thead>
                    <tr>
                        <th scope="col">Property</th>
                        <th scope="col">Value</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td scope="row">Position</td>
                        <td>{{glycerolstock.box_row}}{{glycerolstock.box_column}}</td>
                    </tr>
                    <tr>
                        <td scope="row">Box</td>
                        <td>{{glycerolstock.box.name}}</td>
                    </tr>
                    <tr>
                        <td scope="row">Location</td>
                        <td>{{glycerolstock.box.location}}</td>
                    </tr>
                </tbody>
        </table></td>
    </tr>
    <tr>
        <th scope="row">Details</th>
        <td>{{glycerolstock.details}}</td>
    </tr>
    <tr>
        <th scope="row">QR code</th>
        <td>
            <p id="label-qrcode"></p>
            <p>{{glycerolstock.qr_id}}</p>
            <script type="text/javascript">
            new QRCode(document.getElementById("label-qrcode"), "{{glycerolstock.qr_id}}");
            </script>
        </td>
    </tr>
    </tbody>
</table>
{% else %}
<div class="alert alert-warning">No glycerolstock found.</div>
{% endif %}
{% endblock %}