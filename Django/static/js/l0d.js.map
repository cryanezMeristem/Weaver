{"version":3,"sources":["components/L0D-parts-standards.jsx","components/Helpers.js","L0D-main.jsx","index.js"],"names":["L0DPartsStandards","ytk","name","enzyme","bases_upto_snip","l0_receiver","ohs","domestication_enzymes","default","oh","prev_bases","stop","loop","oh5","oh3","a","b","c","d","e","f","gb","a1_5","a2_5","a3_5","b1_5","b2_5","b3_5","b4_5","b5_5","b6_5","c1_5","c1_3","moclo","clearSequence","sequence","replace","complement","A","T","G","C","t","g","getReverseComplementSequenceString","split","reverse","join","getReverseSequenceString","map","getComplementSequenceString","tmSeq","seq","tm","length","seq_final","i","calculateTm","substring","Highlight","Component","render","this","props","text","overlay_text","type","extra","_jsx","OverlayTrigger","placement","overlay","Tooltip","id","key","children","className","Pagination","React","next_button","step","onClick","stepHandler","prev_button","pre_hr","post_hr","position","_jsxs","InputOHS","standard","Form","Select","onChange","handler","value","cv","ref","Object","keys","OHInput","FloatingLabel","controlId","label","Primer","scope","PrimerDesign","fragment_name","idx","primers","finalSeq","eswen","extra5","template","extra3","method","method_text","tm_warning","pcrMinLength","push","tmSeq_dir","pcrTm","tmSeq_rc","finalSeq_fwd","finalSeq_rev","ResEditor","constructor","super","resInputHandle","v","undefined","new_res","res","getNucleotidesFromIUPAC","letter","toLowerCase","generateVariations","triplet","alternatives","firstLetterVariations","charAt","sub_alternatives","forEach","firstLetterVariation","sub_alternative","getVariation","domesticate","alert","aminoAcidToDegenerateDnaMap","getAminoAcidFromSequenceTriplet","results","result","recommended_codon","start","variation","equal_warwing","diferent_length_warwing","frame_string","FormControl","target","end","Fragments","state","setState","apiCall_result","re","componentWillReceiveProps","nextProps","commonStart","seq1","seq2","Math","min","firstCommonIndexAfterDiff","query","firstIndex","diffFound","lastCommonIndex","lastIndex","resParts","diff","formatOHEnd","len","toUpperCase","formatOH","apiCall","url","axios","get","then","response","replaced","data","ligation_frequency_matrix_html","replaceAll","fidelity","catch","error","amplicon_output","fragments_output","final_sequence","final_sequence_txt","domestication_output","domesticaions_to_make","fragments","minOhLengthAlert","domestication_pending","stop_codon","oh_length","abs","the_re","topSnipOffset","bottomSnipOffset","from","fragment","ligation_fidelity_output","class","role","dangerouslySetInnerHTML","__html","href","rel","final_sequence_no_eswen_ohs_txt","unshift","action","window","csrf_token","default_standard","initialState","custom_oh5","custom_oh3","base_pairs_from_end","enzymes","L0D","resetState","basePairsFromEndInputChangeHandle","event","domEnzymesInputChangeHandle","newEnzymes","pcrMinLengthInputChangeHandle","pcrTmInputChangeHandle","nameInputChangeHandle","sequenceInputChangeHandle","partStandardChangeHandle","OH5InputChangeHandle","OH3InputChangeHandle","customOh5InputHandle","customOh3InputHandle","partStandardInputItems","getEnzymesSelect","domesticationEnzymesOutput","aliasedEnzymesByName","findInFrame","targets","q","$","removeClass","addClass","li","li_activo","each","find","attr","componentDidUpdate","onReady","componentDidMount","the_standard","domesticationEnzymesOptions","custom_oh5_input","custom_oh3_input","k","isType2S","sequenceInput","output","RES","enzyme_name","cutSites","getCutsitesFromSequence","restrictionSites","entries","_ref","enzymeCuts","enzymeCut","recognitionSiteRange","sort","restrictionSite","enzymeSiteWithExtraNucl","site","atg_output","stop_output","atg_found","stop_found","Container","Text","options","isMulti","classNamePrefix","as","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b121e73f.chunk.js","sourcesContent":["const L0DPartsStandards = {\n  ytk: {\n    name: 'Yeast Toolkit',\n    enzyme: 'bsmbi',\n    bases_upto_snip: 'a',\n    l0_receiver: {\n        name: 'L0R-GFP',\n        ohs: {\n            'oh5': 'CTCC',\n            'oh3': 'CGAG'\n        },\n    },\n    domestication_enzymes:[\n            'bsmbi',\n            'bsai',\n    ],\n    default: {\n      5: '12',\n      3: '23'\n    },\n    ohs: {\n        '81': {\n            name: '8-1',\n            oh: 'CCCT'\n        },\n        '12': {\n            name: '1-2',\n            oh: 'AACG'\n        },\n        '23': {\n            name: '2-3',\n            oh: 'TATG'\n        },\n        '3a3b': {\n            name: '3a-3b',\n            oh: 'TTCT',\n            prev_bases: 'gg'\n        },\n        '34': {\n            name: '3-4',\n            oh: 'ATCC',\n            stop: true\n        },\n        '4a4b': {\n            name: '4a-4b',\n            oh: 'TGGC'\n        },\n        '45': {\n            name: '4-5',\n            oh: 'GCTG'\n        },\n        '56': {\n            name: '5-6',\n            oh: 'TACA'\n        },\n        '67': {\n            name: '6-7',\n            oh: 'GAGT'\n        },\n        '78': {\n            name: '7-8',\n            oh: 'CCGA'\n        },\n        '8a8b': {\n            name: '8a-8b',\n            oh: 'CAAT'\n        },\n    },\n  },\n  loop: {\n    name: 'Loop',\n    enzyme: 'sapi',\n    bases_upto_snip: 'a',\n    l0_receiver: {\n      name: 'pL0R-mRFP1',\n      ohs: {\n        oh5: 'TCC',\n        oh3: 'CGA'\n      },      \n    },\n    domestication_enzymes:[\n        'aari',\n        'bsai',\n        'sapi'\n    ],\n    default: {\n      5: 'a',\n      3: 'b'\n    },\n    ohs: {\n      a: {\n        name: 'A',\n        oh: 'GGAG'\n      },\n      b: {\n        name: 'B',\n        oh: 'TACT'\n      },\n      c: {\n        name: 'C',\n        oh: 'AATG'\n      },\n      d: {\n        name: 'D',\n        oh: 'AGGT',\n        prev_bases: 'tc'\n      },\n      e: {\n        name: 'E',\n        oh: 'GCTT',\n        stop: true\n      },\n      f: {\n        name: 'F',\n        oh: 'CGCT'\n      },\n    }\n  },\n  gb: {\n    name:\"GoldenBraid 2.0\",\n    enzyme: 'bsmbi',\n    bases_upto_snip: 'a',\n    domestication_enzymes:[\n      'bsai',\n      'bsmbi'\n    ],\n    l0_receiver: {\n      name: 'pUPD',\n      ohs: {\n        oh5: 'CTCG',\n        oh3: 'CGAG'\n      },      \n    },\n    default: {\n      5: 'a1_5',\n      3: 'a2_5'\n    },\n    ohs: {\n      a1_5: {\n        name: 'A1 5\\'',\n        oh: 'GGAG'\n      },\n      a2_5: {\n        name: 'A2 5\\'',\n        oh: 'TGAC'\n      },\n      a3_5: {\n        name: 'A3 5\\'',\n        oh: 'TCCC'\n      },\n      b1_5: {\n        name: 'B1 5\\'',\n        oh: 'TACT'\n      },\n      b2_5: {\n        name: 'B2 5\\'',\n        oh: 'CCAT'\n      },\n      b3_5: {\n        name: 'B3 5\\'',\n        oh: 'AATG'\n      },\n      b4_5: {\n        name: 'B4 5\\'',\n        oh: 'AGCC',\n        prev_bases: 'tc'\n      },\n      b5_5: {\n        name: 'B5 5\\'',\n        oh: 'TTCG',\n        prev_bases: 'tc'\n      },\n      b6_5: {\n        name: 'B6 5\\'',\n        oh: 'GCTT',\n        prev_bases: 'tc'\n      },\n      c1_5: {\n        name: 'C1 5\\'',\n        oh: 'GGTA'\n      },\n      c1_3: {\n        name: 'C1 3\\'',\n        oh: 'CGCT'\n      },\n    }\n  },\n  moclo:{\n    name: 'MoClo',\n    enzyme: 'bpii',\n    bases_upto_snip: 'aa',\n    default: {\n      5: 'a',\n      3: 'b'\n    },\n    l0_receiver: {\n      name: '',\n      ohs: {\n        oh5: '',\n        oh3: ''\n      },      \n    },\n    domestication_enzymes:[\n        'bsai',\n        'bpii',\n    ],\n    ohs: {\n      a: {\n        name: 'A',\n        oh: 'GGAG'\n      },\n      b: {\n        name: 'B',\n        oh: 'TACT'\n      },\n      c: {\n        name: 'C',\n        oh: 'AATG'\n      },\n      d: {\n        name: 'D',\n        oh: 'AGGT',\n        prev_bases: 'tc'\n      },\n      e: {\n        name: 'E',\n        oh: 'GCTT',\n        prev_bases: 'tc'\n      },\n      f: {\n        name: 'F',\n        oh: 'CGCT'\n      },\n    },\n  }\n}\n\nexport default L0DPartsStandards;\n","import {calculateTm} from 've-sequence-utils'\n\nexport function clearSequence(sequence){\n  return sequence.replace(/[^acgtACGT]/g, '');\n}\n\n\nexport function getReverseSequenceString(sequence){\n  return sequence.split(\"\").reverse().join(\"\");;\n}\n\nfunction complement(sequence){\n  return { A: 'T', T: 'A', G: 'C', C: 'G', a: 't', t: 'a', g: 'c', c: 'g' }[sequence];\n}\n\nexport function getComplementSequenceString(sequence){\n  return sequence.split('').map(complement).join('');\n}\n\n\nexport function getReverseComplementSequenceString(sequence){\n  return getReverseSequenceString(getComplementSequenceString(sequence));\n}\n\nexport function tmSeq(seq, tm){\n    if (seq.length >= 7){\n        let seq_final = \"minTempNotReached\"\n        for(let i = 7; i<seq.length; i++){\n            if (calculateTm(seq.substring(0,i)) > tm){\n                seq_final = seq.substring(0,i)\n                break\n            }\n        }\n        return seq_final\n    } else {\n        return 'minLengthError'\n    }\n}","import React, {Component} from 'react'\nimport Select from 'react-select'\nimport axios from 'axios';\n\nimport L0DPartsStandards from \"./components/L0D-parts-standards\"\n\nimport {\n    clearSequence,\n    getReverseComplementSequenceString,\n    tmSeq\n} from './components/Helpers'\nimport {\n    aliasedEnzymesByName,\n    getCutsitesFromSequence,\n    getAminoAcidFromSequenceTriplet,\n    aminoAcidToDegenerateDnaMap\n} from 've-sequence-utils'\n\nimport Container from 'react-bootstrap/Container'\nimport Form from 'react-bootstrap/Form'\nimport FormControl from 'react-bootstrap/FormControl'\nimport FloatingLabel from 'react-bootstrap/FloatingLabel'\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\n\n\nimport $ from 'jquery';\n\n\nclass Highlight extends Component {\n    render() {\n        if (this.props.text) {\n            let overlay_text = \"\"\n            switch (this.props.type) {\n                case 'eswen':\n                    overlay_text = \"Restriction site\"\n                    break\n                case 'doh':\n                    overlay_text = \"Domestication overhang\"\n                    break\n                case 'oh':\n                    overlay_text = \"Overhang\"\n                    break\n                case 'seq':\n                    overlay_text = \"Sequence\"\n                    break\n                case 'res':\n                    overlay_text = \"Internal restriction site\"\n                    break\n                case 'res_dom':\n                    overlay_text = \"Internal restriction site (domesticated)\"\n                    break\n                case 'prev_bases':\n                    overlay_text = \"Overhang complement bases for frame conservation\"\n                    break\n                case 'stop':\n                    overlay_text = \"Stop codon\"\n                    break\n                default:\n                    break\n            }\n            if (this.props.extra)\n                overlay_text += \" \" + this.props.extra\n            return <OverlayTrigger key={\"ot\" + this.props.key} placement=\"top\" overlay={\n                <Tooltip id={\"id\" + this.props.key}>{overlay_text}</Tooltip>\n            }>\n                <span className={\"hl hl-\" + this.props.type}>{this.props.text}</span>\n            </OverlayTrigger>\n        }\n        return <i></i>\n    }\n}\n\nclass Pagination extends React.Component {\n    render() {\n        let next_button = \"\"\n        if (this.props.step < 5)\n            next_button = <button className=\"btn btn-success float-end\" onClick={() => {\n                this.props.stepHandler(this.props.step + 1)\n        }}>Next</button>\n\n        let prev_button = \"\"\n        if (this.props.step > 1)\n            prev_button = <button className=\"btn btn-secondary float-end me-2\" onClick={() => {\n                this.props.stepHandler(this.props.step - 1)\n            }}>Prev</button>\n\n        let pre_hr = \"\"\n        let post_hr = \"\"\n\n        if (this.props.position === \"t\")\n            post_hr = <hr/>\n        if (this.props.position === \"b\")\n            pre_hr = <hr/>\n        return <div className=\"col-12\">\n            {pre_hr}\n            <div className=\"flow_root\">\n                {next_button}\n                {prev_button}\n            </div>\n            {post_hr}\n        </div>\n    }\n}\n\n\nclass InputOHS extends Component {\n    render() {\n        const standard = L0DPartsStandards[this.props.standard]\n        return <Form.Select\n            onChange={this.props.handler}\n            value={this.props.cv}\n            aria-label={standard.name + \" OHs / \" + this.props.oh + \"'\"}\n            className=\"oh-select\" ref={\"ref\" + this.props.oh}>\n            {Object.keys(standard.ohs).map((key) => {\n                return (\n                    <option key={key}\n                            value={key}>{standard.ohs[key].name + \" - \" + standard.ohs[key].oh + (standard.ohs[key].prev_bases ? ' [ ' + standard.ohs[key].prev_bases + ' ]' : '') + (standard.ohs[key].stop ? ' [ STOP ]' : '')}</option>\n                )\n            })}\n            <option key=\"custom\" value=\"custom\">Custom</option>\n        </Form.Select>\n    }\n}\n\nclass OHInput extends Component {\n    render() {\n        return <FloatingLabel controlId={\"ohs\" + this.props.oh}\n                              label={this.props.standard + \" OHs / \" + this.props.oh + \"'\"}>\n            <InputOHS\n                standard={this.props.standard}\n                oh={this.props.oh}\n                handler={this.props.handler}\n                cv={this.props.cv}\n            />\n        </FloatingLabel>\n    }\n}\n\nclass Primer extends Component {\n    render() {\n        return <tr>\n            <th scope=\"row\">{this.props.type} <i className=\"bi bi-clipboard copy_clipboard\" data-cc={this.props.name + \"-\" + this.props.type}></i></th>\n            <td>{this.props.seq.length}</td>\n            <td><i className=\"bi bi-clipboard copy_clipboard\" data-cc={this.props.seq}></i> {this.props.seq}</td>\n        </tr>\n    }\n}\n\nclass PrimerDesign extends Component {\n    render() {\n        const fragment_name = this.props.name + \"-F\" + (this.props.idx + 1)\n        let primers = []\n        const finalSeq = this.props.eswen + this.props.extra5 + this.props.template + this.props.extra3 + getReverseComplementSequenceString(this.props.eswen)\n        let method = \"pcr\"\n        let method_text = \"PCR\"\n        let tm_warning = \"\"\n        if (finalSeq.length <= this.props.pcrMinLength) {\n            method = \"oann\"\n            method_text = \"GBlock or Oligo Annealing\"\n        }\n        if (method === \"oann\") {\n            primers.push(<Primer seq={finalSeq} name={fragment_name} type={\"F\"}/>)\n            primers.push(<Primer seq={getReverseComplementSequenceString(finalSeq)} name={fragment_name} type={\"R\"}/>)\n        } else {\n            let tmSeq_dir = tmSeq(this.props.template, this.props.pcrTm)\n            let tmSeq_rc = tmSeq(getReverseComplementSequenceString(this.props.template), this.props.pcrTm)\n            if (tmSeq_dir === \"minTempNotReached\" || tmSeq_dir === \"minLengthError\") {\n                tmSeq_dir = this.props.template\n                tmSeq_rc = getReverseComplementSequenceString(this.props.template)\n                if (tmSeq_dir === \"minTempNotReached\")\n                    tm_warning = <div className=\"alert alert-danger\">Tm below min requirement</div>\n                if (tmSeq_dir === \"minLengthError\")\n                    tm_warning = <div className=\"alert alert-danger\">Template length below min requirement (7 bp)</div>\n            }\n            const finalSeq_fwd = this.props.eswen + this.props.extra5 + tmSeq_dir\n            primers.push(<Primer seq={finalSeq_fwd} name={fragment_name} type={\"F\"}/>)\n            const finalSeq_rev = this.props.eswen + getReverseComplementSequenceString(this.props.extra3) + tmSeq_rc\n            primers.push(<Primer seq={finalSeq_rev} name={fragment_name} type={\"R\"}/>)\n            // primers.push(<Primer seq={getReverseComplementSequenceString(tmSeq_rc) + this.props.extra3 + getReverseComplementSequenceString(this.props.eswen) } name={fragment_name} type={\"R (RC)\"}/>)\n        }\n        return (<div className=\"alert alert-light border text-break\">\n            <h5>\n                <span className=\"badge bg-secondary text-light\">{fragment_name}</span>\n                <span className=\"small fw-light ms-2\">{method_text} / {finalSeq.length} bp</span>\n            </h5>\n            {tm_warning}\n            <table className=\"table small\">\n                <thead>\n                <tr>\n                    <th scope=\"col\">Type</th>\n                    <th scope=\"col\">Length</th>\n                    <th scope=\"col\">Seq</th>\n                </tr>\n                </thead>\n                <tbody>\n                    {primers}\n                </tbody>\n            </table>\n        </div>)\n    }\n}\n\nclass ResEditor extends Component {\n    constructor(props) {\n        super(props)\n        if (props.new_res === undefined)\n            this.resInputHandle(this.props.res.idx, this.props.res.seq)\n    }\n\n    resInputHandle = (i, v) => {\n        this.props.resInputHandle(i, v)\n    }\n\n    getNucleotidesFromIUPAC(letter) {\n        switch (letter.toLowerCase()) {\n            case 'a':\n                return ['a']\n            case 't':\n                return ['t']\n            case 'c':\n                return ['c']\n            case 'g':\n                return ['g']\n            case 'r':\n                return ['g', 'a']\n            case 'y':\n                return ['t', 'c']\n            case 'm':\n                return ['a', 'c']\n            case 'k':\n                return ['g', 't']\n            case 's':\n                return ['g', 'c']\n            case 'w':\n                return ['a', 't']\n            case 'h':\n                return ['a', 'c', 't']\n            case 'b':\n                return ['g', 't', 'c']\n            case 'v':\n                return ['g', 'c', 'a']\n            case 'd':\n                return ['g', 'a', 't']\n            case 'n':\n                return ['g', 'a', 'c', 't']\n            default:\n                return letter\n        }\n    }\n\n    generateVariations(triplet) {\n        if (triplet.length === 1)\n            return this.getNucleotidesFromIUPAC(triplet)\n\n        const alternatives = []\n        const firstLetterVariations = this.getNucleotidesFromIUPAC(triplet.charAt(0))\n        const sub_alternatives = this.generateVariations(triplet.substring(1, triplet.length))\n\n        firstLetterVariations.forEach((firstLetterVariation) => {\n            sub_alternatives.forEach((sub_alternative) => {\n                alternatives.push(firstLetterVariation + sub_alternative)\n            })\n        })\n        return alternatives\n    }\n\n    getVariation(domesticate) {\n        if (domesticate.length !== 3) {\n            alert(\"Domestication site length != 3\")\n            return false\n        }\n        const triplet = aminoAcidToDegenerateDnaMap[getAminoAcidFromSequenceTriplet(domesticate).value.toLowerCase()]\n        const results = this.generateVariations(triplet)\n        let result = false\n        results.forEach((v) => {\n            if (v !== domesticate) {\n                result = v\n            }\n        })\n        return result\n    }\n\n    recommended_codon() {\n        const new_res = this.props.new_res\n        const res = this.props.res\n        if (new_res && new_res.length >= 3) {\n            let result = res.seq.substring(0, res.start % 3)\n            const domesticate = res.seq.substring(res.start % 3, res.start % 3 + 3)\n            const variation = this.getVariation(domesticate)\n            if (variation)\n                result += variation\n            else {\n                alert(\"No variation found\")\n                return res\n            }\n            result += res.seq.substring(res.start % 3 + 3, new_res.length)\n            return result\n        }\n        alert(\"No Restriction enzyme site set\")\n        return \"\"\n    }\n\n    render() {\n        if (this.props.res) {\n            let equal_warwing = \"\"\n            let res = this.props.res\n            let new_res = this.props.new_res ? this.props.new_res : \"\"\n\n            if (res.seq.toLowerCase() === new_res.toLowerCase())\n                equal_warwing = <div className=\"alert alert-danger\">Restriction site unchanged</div>\n            let diferent_length_warwing = \"\"\n\n            if (res.seq.length !== new_res.length && new_res.length > 0)\n                diferent_length_warwing =\n                    <div className=\"alert alert-warning\">New restriction site has different length than original</div>\n\n            let frame_string = \"\"\n            if (new_res) {\n                let start = new_res.substring(0, res.start % 3) + \"-\"\n                if (start.length === 1)\n                    start = \"\"\n                frame_string = \" (\" + start + new_res.substring(res.start % 3, res.start % 3 + 3) + \")\"\n            }\n            const recommended_codon = this.recommended_codon()\n\n            return <div className=\"alert alert-info border\">\n                <h5>Restriction site # {res.idx + 1}</h5>\n                <div className=\"row\">\n                    <div className=\"col-7\">\n                        <FloatingLabel controlId={\"resInput\" + res.idx} label=\"New restriction enzyme site\">\n                            <FormControl onChange={(e) => this.resInputHandle(res.idx, e.target.value)}\n                                         value={new_res} aria-label=\"New restriction enzyme site\"/>\n                        </FloatingLabel>\n                        <div className=\"mb-2\">\n                            <button type=\"button\" className=\"btn btn-secondary me-2\"\n                                    onClick={(e) => this.resInputHandle(res.idx, res.seq)}>Reset\n                            </button>\n                            <button type=\"button\" className=\"btn btn-success me-2\"\n                                    onClick={(e) => this.resInputHandle(res.idx, recommended_codon)}>Recommended\n                            </button>\n                        </div>\n                    </div>\n                    <div className=\"col-5\">\n                        <div className=\"mb-2 small\">\n                            <span><strong>Enzyme</strong>: {res.enzyme}</span><br/>\n                            <span><strong>Position</strong>: {(res.start + 1) + \" to \" + (res.end + 1)}</span><br/>\n                            <span><strong>Frame position</strong>: {((res.start % 3) + 1) + frame_string}</span><br/>\n                        </div>\n                    </div>\n                </div>\n                {equal_warwing}\n                {diferent_length_warwing}\n            </div>\n        } else {\n            return <div></div>\n        }\n    }\n}\n\nclass Fragments extends Component {\n    constructor(props) {\n        super(props)\n        let new_res = []\n        props.res.forEach((re) => {\n            new_res.push(re.seq)\n        })\n        this.state = {\n            new_res: new_res,\n            apiCall_result: []\n        }\n    }\n\n\n    componentWillReceiveProps(nextProps) {\n        let new_res = []\n        nextProps.res.forEach((re) => {\n            new_res.push(re.seq)\n        })\n        this.setState({\n            new_res: new_res,\n            apiCall_result: []\n        })\n    }\n\n    commonStart(seq1, seq2) {\n        let finalSeq = \"\"\n        for (var i = 0; i < Math.min(seq1.length, seq2.length); i++) {\n            if (seq1.charAt(i).toLowerCase() === seq2.charAt(i).toLowerCase()) {\n                finalSeq += seq1.charAt(i)\n            } else\n                break\n        }\n        return finalSeq\n    }\n\n    firstCommonIndexAfterDiff(ref, query) {\n        let firstIndex = null\n        let diffFound = false\n        if (ref.length === query.length)\n            for (var i = 0; i < query.length; i++) {\n                if (ref.charAt(i).toLowerCase() === query.charAt(i).toLowerCase()){\n                    if (diffFound && ref.substring(i, query.length) === query.substring(i, query.length)) {\n                        firstIndex = i\n                        break\n                    }\n                } else\n                        diffFound = true\n            }\n        return firstIndex\n    }\n\n    lastCommonIndex(ref, query) {\n        let lastIndex = 0\n        for (var i = 0; i < Math.min(ref.length, query.length); i++) {\n            if (ref.charAt(i).toLowerCase() === query.charAt(i).toLowerCase())\n                lastIndex = i\n            else\n                break\n        }\n        return lastIndex\n    }\n\n    resParts(ref, query) {\n        const lastCommonIndex = this.lastCommonIndex(ref, query)\n        const firstCommonIndexAfterDiff = this.firstCommonIndexAfterDiff(ref, query)\n\n        // console.log(\"lastCommonIndex: \" + lastCommonIndex)\n        // console.log(\"firstCommonIndexAfterDiff: \" + firstCommonIndexAfterDiff)\n\n        let start = ref.substring(0, lastCommonIndex + 1)\n        let diff = \"\"\n        let end = \"\"\n        if (firstCommonIndexAfterDiff) {\n            diff = ref.substring(lastCommonIndex + 1, firstCommonIndexAfterDiff)\n            end = ref.substring(firstCommonIndexAfterDiff, ref.length)\n        } else {\n            diff = ref.substring(lastCommonIndex + 1, ref.length)            \n        }\n\n        return {\n            'start': start,\n            'diff': diff,\n            'end': end,\n        }\n    }\n\n    resInputHandle = (i, v) => {\n        let new_res = this.state.new_res\n        new_res[i] = clearSequence(v)\n        this.setState({\n            new_res: new_res,\n            apiCall_result: []\n        })\n    }\n\n    formatOHEnd(seq, len) {\n        return seq.substring(0, seq.length - len).toLowerCase() + seq.substring(seq.length - len, seq.length).toUpperCase()\n    }\n\n    formatOH(seq, len) {\n        return seq.substring(0, len).toUpperCase() + seq.substring(len, seq.length).toLowerCase()\n    }\n\n    stepHandler = (step) => {\n        this.props.stepHandler(step)\n    }\n\n    apiCall(ohs) {\n        this.setState({\n            apiCall_result: {\n                'wait': true\n              }\n        })    \n        // const url = 'http://192.168.9.61:8000/inventory/api/fidelity_calc/sapi/' + ohs.join('-')\n        const url = '/inventory/api/fidelity_calc/sapi/' + ohs.join('-')\n        axios.get(url)\n            .then((response) => {\n                var replaced = response.data.ligation_frequency_matrix_html.replaceAll('container', 'lfm_container')\n                replaced = replaced.replaceAll('row', 'lfm_row')\n                replaced = replaced.replaceAll('cell', 'lfm_cell')\n                this.setState({\n                    apiCall_result: {\n                        'fidelity': response.data.fidelity,\n                        'render': replaced\n                      }\n                })\n            })\n            .catch((error) => {\n                this.setState({\n                    apiCall_result: {\n                        'error': error\n                      }\n                })              \n            })\n    }\n\n    render() {\n        let amplicon_output = []\n        let fragments_output = []\n        let final_sequence = []\n        let final_sequence_txt = \"\"\n        let domestication_output = []\n        domestication_output.push(<h3>Restriction sites</h3>)\n        let domesticaions_to_make = false\n        let fragments = []\n        let extra5 = \"\"\n        let extra3 = \"\"\n        let minOhLengthAlert = \"\"\n        let ohs = []\n        let domestication_pending = false\n        const stop_codon = 'tga'\n        const oh_length = Math.abs(this.props.the_re.topSnipOffset - this.props.the_re.bottomSnipOffset)\n\n        ohs.push(this.props.l0_receiver.ohs.oh5)\n\n        final_sequence.push(<Highlight text={this.props.eswen} type=\"eswen\" key=\"1\"\n                                       extra={\" (\" + this.props.the_re.name + \")\"}/>)\n        final_sequence_txt += this.props.eswen\n        final_sequence.push(<Highlight text={this.props.l0_receiver.ohs.oh5} type=\"doh\" key=\"2\"/>)\n        final_sequence_txt += this.props.l0_receiver.ohs.oh5\n        extra5 += this.props.l0_receiver.ohs.oh5.toUpperCase()\n\n        final_sequence.push(<Highlight text={this.props.oh5.oh} extra={this.props.oh5.name} type=\"oh\" key=\"3\"/>)\n        final_sequence_txt += this.props.oh5.oh\n        extra5 += this.props.oh5.oh.toUpperCase()\n\n        if (this.props.res.length) {\n            let from = 0\n            this.props.res.forEach((re, idx) => {\n                final_sequence.push(<Highlight text={this.props.seq.substring(from, re.start)} type=\"seq\"\n                                               extra={\" fragment \" + (idx + 1)} key={\"s-\" + idx}/>)\n                final_sequence_txt += this.props.seq.substring(from, re.start)\n                let template = this.props.seq.substring(from, re.start)\n\n                let type = \"res\"\n                let seq = re.seq\n                if (this.state.new_res[idx] && this.state.new_res[idx] !== re.seq) {\n                    type = \"res_dom\"\n                    seq = this.state.new_res[idx]\n                }\n                final_sequence.push(<Highlight text={seq} type={type} extra={\" # \" + (idx + 1)} key={\"r-\" + idx}/>)\n                final_sequence_txt += seq\n                template += this.commonStart(this.state.new_res[idx], re.seq)\n\n                if (idx) {\n                    // not the first\n                    const resParts = this.resParts(this.state.new_res[idx - 1], this.props.res[idx - 1].seq)\n                    extra5 = this.formatOH(resParts.diff, oh_length)\n                    template = this.formatOH(resParts.end + template, oh_length - extra5.length)\n                    ohs.push((resParts.diff + template).substring(0, oh_length).toUpperCase())\n                }\n\n                const resParts = this.resParts(this.state.new_res[idx], re.seq)\n                extra3 = this.formatOH((resParts.diff + resParts.end + this.props.seq.substring(re.end + 1, this.props.seq.length)).substring(0, oh_length), oh_length)\n                if (idx !== this.props.res.length - 1)\n                    template = this.formatOHEnd(template, oh_length - extra3.length)\n                if (extra3.length < oh_length)\n                    minOhLengthAlert = <div className=\"alert alert-danger\">OH length under optimal length</div>\n\n                fragments.push({\n                    idx: idx,\n                    extra5: extra5,\n                    template: template,\n                    extra3: extra3,\n                })\n                domestication_output.push(<ResEditor resInputHandle={this.resInputHandle}\n                                                     new_res={this.state.new_res[idx]} res={re}/>)\n                if (re.seq.toLowerCase() === this.state.new_res[idx].toLowerCase())\n                    domestication_pending = true\n                domestication_output.push(minOhLengthAlert)\n                domesticaions_to_make = true\n                from = re.end + 1\n\n                if (idx === this.props.res.length - 1) {\n                    // the last\n                    final_sequence.push(<Highlight text={this.props.seq.substring(re.end + 1, this.props.seq.length)}\n                                                   type=\"seq\"\n                                                   extra={\" fragment \" + (idx + 2)} key={\"s-\" + (idx + 1)}/>)\n                    final_sequence_txt += this.props.seq.substring(re.end + 1, this.props.seq.length)\n                    const resParts = this.resParts(this.state.new_res[idx], re.seq)\n                    extra5 = this.formatOH(resParts.diff, oh_length)\n                    template = this.formatOH(resParts.end + this.props.seq.substring(from, this.props.seq.length), oh_length - extra5.length)\n                    ohs.push((resParts.diff + template).substring(0, oh_length).toUpperCase())\n                    fragments.push({\n                        idx: idx + 1,\n                        extra5: extra5,\n                        template: template,\n                        extra3: \"\",\n                    })\n                }\n            })\n        } else {\n            final_sequence.push(<Highlight text={this.props.seq} type=\"seq\" key=\"s-1\"/>)\n            final_sequence_txt += this.props.seq\n            fragments.push({\n                idx: 0,\n                extra5: extra5,\n                template: this.props.seq.toLowerCase(),\n                extra3: \"\",\n            })\n        }\n\n        final_sequence.push(<Highlight text={this.props.oh3.prev_bases ? this.props.oh3.prev_bases : ''} type=\"prev_bases\" key=\"6\"/>)\n        final_sequence_txt += this.props.oh3.prev_bases ? this.props.oh3.prev_bases : ''\n        extra3 = this.props.oh3.prev_bases ? this.props.oh3.prev_bases : ''\n        final_sequence.push(<Highlight text={this.props.oh3.stop ? stop_codon : ''} type=\"stop\" key=\"7\"/>)\n        final_sequence_txt += this.props.oh3.stop ? stop_codon : ''\n        extra3 += this.props.oh3.stop ? stop_codon : ''\n        final_sequence.push(<Highlight text={this.props.oh3.oh} extra={this.props.oh3.name} type=\"oh\" key=\"8\"/>)\n        final_sequence_txt += this.props.oh3.oh\n        extra3 += this.props.oh3.oh.toUpperCase()\n        final_sequence.push(<Highlight text={this.props.l0_receiver.ohs.oh3} type=\"doh\" key=\"9\"/>)\n        final_sequence_txt += this.props.l0_receiver.ohs.oh3\n        extra3 += this.props.l0_receiver.ohs.oh3.toUpperCase()\n        \n        ohs.push(this.props.l0_receiver.ohs.oh3)\n        \n        final_sequence.push(<Highlight text={getReverseComplementSequenceString(this.props.eswen)} type=\"eswen\"\n                                       key=\"10\" extra={\" (RevComp) (\" + this.props.the_re.name + \")\"}/>)\n        final_sequence_txt += getReverseComplementSequenceString(this.props.eswen)\n        fragments[fragments.length - 1].extra3 = extra3\n\n        fragments.forEach((fragment) => {\n            fragments_output.push(<PrimerDesign name={this.props.name} pcrMinLength={this.props.pcrMinLength}\n                                                pcrTm={this.props.pcrTm} idx={fragment.idx} extra5={fragment.extra5}\n                                                extra3={fragment.extra3} template={fragment.template}\n                                                eswen={this.props.eswen}/>)\n        })\n\n        if (!domesticaions_to_make)\n            domestication_output.push(<div className=\"alert alert-info\">No domestication sites</div>)\n\n        domestication_output.push(<h3>Ligation overhangs<i className=\"bi bi-clipboard copy_clipboard ms-2\" data-cc={ohs.join(\",\")}></i></h3>)\n        \n        let ligation_fidelity_output = []\n        ligation_fidelity_output.push(<div className=\"alert alert-warning\">Overhangs: {ohs.join(\" + \")}</div>)\n        if(this.state.apiCall_result['wait']){\n            ligation_fidelity_output.push(<button className=\"btn btn-success\" onClick={() => {this.apiCall()}}>Wait <span class=\"spinner-grow spinner-grow-sm text-light\" role=\"status\"><span class=\"visually-hidden\">Loading...</span></span></button>)\n        } else {\n            if(this.state.apiCall_result['fidelity']){\n                ligation_fidelity_output.push(<div className=\"alert alert-success\">Ligation Fidelity: {this.state.apiCall_result['fidelity']}%</div>)\n                ligation_fidelity_output.push(<div className=\"alert alert-light\">\n                        <h4>Ligation fidelity matrix</h4>\n                        <div id=\"fidelity_result\" dangerouslySetInnerHTML={{ __html: this.state.apiCall_result['render'] }} />\n                    </div>)  \n                ligation_fidelity_output.push(<div className=\"alert alert-info\">Conditions: SapI / 37-16 cycling. Using <a href=\"https://ligasefidelity.neb.com/viewset/run.cgi\" target=\"_blank\" rel=\"noreferrer\">NEBridge Ligase Fidelity Viewer <i className=\"bi bi-box-arrow-up-right\"></i></a></div>)\n            } else {\n                if(this.state.apiCall_result['error']){\n                    ligation_fidelity_output.push(<div className=\"alert alert-danger\">Error. Try again. [{this.state.apiCall_result['error']}]</div>)\n                }\n                ligation_fidelity_output.push(<button className=\"btn btn-success\" onClick={() => {this.apiCall(ohs)}}>Estimate fidelity</button>)\n            }\n        }\n        domestication_output.push(<div className=\"alert alert-light border text-break\">\n            <div className=\"mb-2\">{ligation_fidelity_output}</div>\n        </div>)\n        domestication_output.push(<Pagination step={3} position=\"b\" stepHandler={this.stepHandler}></Pagination>)\n\n\n\n        let final_sequence_no_eswen_ohs_txt = final_sequence_txt.substring(this.props.eswen.length + this.props.l0_receiver.ohs.oh5.length + this.props.oh5.oh.length, final_sequence_txt.length - this.props.eswen.length - this.props.l0_receiver.ohs.oh3.length - this.props.oh3.oh.length)\n        if (domestication_pending){\n            amplicon_output.unshift(<div className=\"alert alert-danger\">Restriction site domestication(s) pending</div>)\n            fragments_output.unshift(<div className=\"alert alert-danger\">Restriction site domestication(s) pending</div>)\n        }\n        amplicon_output.unshift(<h3>{this.props.name} <i className=\"bi bi-clipboard copy_clipboard ms-2\" data-cc={final_sequence_txt}></i> <span className=\"badge text-dark\">\n            <form method=\"POST\" action=\"/inventory/plasmid/create/l0d\" target=\"_blank\" class=\"default-style\">\n                <input type=\"hidden\" name=\"oh5-name\" value={this.props.oh5.name} />\n                <input type=\"hidden\" name=\"oh5-oh\" value={this.props.oh5.oh} />\n                <input type=\"hidden\" name=\"oh3-name\" value={this.props.oh3.name} />\n                <input type=\"hidden\" name=\"oh3-prev_bases\" value={this.props.oh3.prev_bases ? this.props.oh3.prev_bases : ''} />\n                <input type=\"hidden\" name=\"oh3-stop\" value={this.props.oh3.stop ? stop_codon : ''} />\n                <input type=\"hidden\" name=\"oh3-oh\" value={this.props.oh3.oh} />\n                <input type=\"hidden\" name=\"name\" value={this.props.name} />\n                <input name=\"csrfmiddlewaretoken\" value={window.csrf_token} type=\"hidden\" />\n                <input type=\"hidden\" name=\"seq\" value={final_sequence_no_eswen_ohs_txt} />\n                <button className=\"btn btn-primary btn-sm\" type=\"submit\">Create plasmid <i className=\"bi bi-box-arrow-up-right\"></i></button>\n            </form>\n        </span></h3>)\n\n        amplicon_output.push(<div className=\"alert alert-light border text-break\">{final_sequence}</div>)\n        amplicon_output.push(<Pagination step={4} position=\"b\" stepHandler={this.stepHandler}></Pagination>)\n\n        fragments_output.push(<Pagination step={5} position=\"b\" stepHandler={this.stepHandler}></Pagination>)\n\n        return [\n            <div className=\"collapse\">{domestication_output}</div>,\n            <div className=\"collapse text-break\">{amplicon_output}</div>,\n            <div className=\"collapse\">{fragments_output}</div>,\n            ]\n    }\n}\n\nconst default_standard = 'ytk'\nconst initialState = {\n    sequence: '',\n    standard: default_standard,\n    custom_oh5: '',\n    custom_oh3: '',\n    oh5: L0DPartsStandards[default_standard].default[5],\n    oh3: L0DPartsStandards[default_standard].default[3],\n    pcrTm: 60,\n    pcrMinLength: 80,\n    name: 'Part',\n    base_pairs_from_end: 'aa',\n    enzymes: L0DPartsStandards[default_standard].domestication_enzymes,\n}\n\nclass L0D extends Component {\n    constructor(props) {\n        super(props)\n        this.state = initialState\n    }\n\n    resetState = () => {\n        this.setState(initialState);\n    }\n\n    basePairsFromEndInputChangeHandle = (event) => {\n        this.setState({\n            base_pairs_from_end: event.target.value,\n        })\n    }\n\n\n    domEnzymesInputChangeHandle = (event) => {\n        let newEnzymes = []\n        event.forEach((enzyme) => {\n            newEnzymes.push(enzyme.value)\n        })\n        this.setState({\n            enzymes: newEnzymes,\n        })\n    }\n\n    pcrMinLengthInputChangeHandle = (event) => {\n        this.setState({\n            pcrMinLength: event.target.value,\n        })\n    }\n\n    pcrTmInputChangeHandle = (event) => {\n        this.setState({\n            pcrTm: event.target.value,\n        })\n    }\n\n    nameInputChangeHandle = (event) => {\n        this.setState({\n            name: event.target.value,\n        })\n    }\n\n    sequenceInputChangeHandle = (event) => {\n        this.setState({\n            sequence: clearSequence(event.target.value),\n        })\n    }\n\n    partStandardChangeHandle = (event) => {\n        const standard = L0DPartsStandards[event.target.value]\n        if (standard)\n            this.setState({\n                standard: event.target.value,\n                oh5: standard.default[5],\n                oh3: standard.default[3],\n                enzymes: standard.domestication_enzymes\n            })\n    }\n\n    OH5InputChangeHandle = (event) => {\n        this.setState({oh5: event.target.value})\n    }\n\n    OH3InputChangeHandle = (event) => {\n        this.setState({oh3: event.target.value})\n    }\n\n    customOh5InputHandle = (event) => {\n        this.setState({custom_oh5: clearSequence(event.target.value)})\n    }\n\n    customOh3InputHandle = (event) => {\n        this.setState({custom_oh3: clearSequence(event.target.value)})\n    }\n\n    partStandardInputItems = Object.keys(L0DPartsStandards).map(function (key) {\n        return <option key={key} value={key}>{L0DPartsStandards[key].name}</option>\n    })\n\n    getEnzymesSelect = (enzymes) => {\n        let domesticationEnzymesOutput = []\n        enzymes.forEach((enzyme) => {\n            domesticationEnzymesOutput.push({value: enzyme, label: aliasedEnzymesByName[enzyme].name})\n        })\n        return domesticationEnzymesOutput\n    }\n\n    findInFrame(targets, query) {\n        for (let t = 0; t < targets.length; t++) {\n            for (let q = 0; q < query.length; q = q + 3) {\n                if (targets[t].toLowerCase() === query.substring(q, q + 3).toLowerCase()) {\n                    return q\n                }\n            }\n        }\n        return false\n    }\n\n    stepHandler(step) {\n        $('#steps').children().removeClass('show')\n        $('#steps > *:nth-child(' + (step) + ')').addClass('show')\n\n        let li = $('#pagination').children()\n        let li_activo = $('#pagination > *:nth-child(' + (step) + ')')\n\n        li.removeClass('active')\n        li_activo.addClass('active')\n\n        li.each(function(){\n            $(this).find('span:first-child').removeClass('bg-light').removeClass('text-primary').addClass('bg-'+$(this).attr('data-color'))\n            $(this).find('button span:last-child').addClass('text-'+$(this).attr('data-color'))\n        })\n        li_activo.find('button span:first-child').addClass('bg-light').addClass('text-primary')\n        li_activo.find('button span:last-child').removeClass('text-'+li_activo.attr('data-color'))\n    }\n\n    componentDidUpdate() {\n        window.onReady()\n    }\n\n    componentDidMount() {\n        // this.stepHandler(3)\n    }\n\n    render() {\n        const the_standard = L0DPartsStandards[this.state.standard]\n        const domesticationEnzymesOptions = []\n        Object.keys(aliasedEnzymesByName).forEach(function (k, v) {\n            if (aliasedEnzymesByName[k].isType2S)\n                domesticationEnzymesOptions.push({value: k, label: aliasedEnzymesByName[k].name})\n        })\n\n        let custom_oh5_input\n        if (this.state.oh5 === \"custom\") {\n            custom_oh5_input = <FloatingLabel controlId=\"customOh5Input\" label=\"Custom OH 5'\">\n                <FormControl onChange={this.customOh5InputHandle} value={this.state.custom_oh5}\n                             aria-label=\"Custom OH 5\"/>\n            </FloatingLabel>\n        }\n\n        let custom_oh3_input\n        if (this.state.oh3 === \"custom\") {\n            custom_oh3_input = <FloatingLabel controlId=\"customOh3Input\" label=\"Custom OH 3'\">\n                <FormControl onChange={this.customOh3InputHandle} value={this.state.custom_oh3}\n                             aria-label=\"Custom OH 3\"/>\n            </FloatingLabel>\n        }\n\n        const sequenceInput = this.state.sequence.toLowerCase()\n        \n        let output = []\n\n        if (!sequenceInput) {\n            output = [\n                <div className=\"collapse\">\n                <div className=\"alert alert-info\">Set a sequence to continue</div>\n                <Pagination step={3} position=\"b\" stepHandler={this.stepHandler}></Pagination>\n                </div>,\n                <div className=\"collapse\">\n                <div className=\"alert alert-info\">Set a sequence to continue</div>\n                <Pagination step={4} position=\"b\" stepHandler={this.stepHandler}></Pagination>\n                </div>,\n                <div className=\"collapse\">\n                <div className=\"alert alert-info\">Set a sequence to continue</div>\n                <Pagination step={5} position=\"b\" stepHandler={this.stepHandler}></Pagination>\n                </div>,\n                ]\n        } else {\n            let RES = []\n            this.state.enzymes.forEach((enzyme_name) => {\n                RES.push(aliasedEnzymesByName[enzyme_name])\n            })\n            const cutSites = getCutsitesFromSequence(sequenceInput, true, RES)\n\n            let restrictionSites = []\n\n            if (Object.keys(cutSites).length) {\n                Object.entries(cutSites).forEach(([key, enzymeCuts]) => {\n                    enzymeCuts.forEach((enzymeCut, idx) => {\n                        const start = enzymeCut.recognitionSiteRange['start']\n                        const end = enzymeCut.recognitionSiteRange['end']\n                        if (start < end)\n                            restrictionSites.push({\n                                seq: sequenceInput.substring(enzymeCut.recognitionSiteRange['start'], enzymeCut.recognitionSiteRange['end'] + 1),\n                                start: start,\n                                end: end,\n                                enzyme: enzymeCut.name\n                            })\n                    })\n                    restrictionSites.sort(function (a, b) {\n                        return a.start - b.start\n                    })\n                    restrictionSites.forEach((restrictionSite, idx) => {\n                        restrictionSite.idx = idx\n                    })\n                })\n            }\n\n            const the_re = aliasedEnzymesByName[the_standard.enzyme]\n            const enzymeSiteWithExtraNucl = this.state.base_pairs_from_end + the_re.site.toUpperCase() + the_standard.bases_upto_snip\n\n            let oh5 = {\n                name: 'Custom',\n                oh: this.state.custom_oh5\n            }\n            if (this.state.oh5 !== \"custom\") {\n                oh5 = the_standard.ohs[this.state.oh5]\n            }\n            let oh3 = {\n                name: 'Custom',\n                oh: this.state.custom_oh3\n            }\n            if (this.state.oh3 !== \"custom\") {\n                oh3 = the_standard.ohs[this.state.oh3]\n            }\n\n            output = <Fragments name={this.state.name} pcrMinLength={this.state.pcrMinLength} pcrTm={this.state.pcrTm}\n                                the_re={the_re} res={restrictionSites} oh5={oh5} oh3={oh3}\n                                l0_receiver={the_standard.l0_receiver} eswen={enzymeSiteWithExtraNucl} seq={sequenceInput}\n                                stepHandler={this.stepHandler}/>\n\n        }\n\n        let atg_output = <div className=\"alert alert-alert border\">No ATG found in frame 1</div>\n        let stop_output = <div className=\"alert alert-light border\">No STOP codon found in frame 1</div>\n\n        let atg_found = this.findInFrame(['atg'], sequenceInput)\n        let stop_found = this.findInFrame(['taa', 'tga', 'tag'], sequenceInput)\n\n        if (atg_found !== false)\n            atg_output = <div className=\"alert alert-success\">ATG found in frame 1, position {atg_found + 1}</div>\n\n        if (stop_found !== false)\n            stop_output =\n                <div className=\"alert alert-danger\">STOP codon found in frame 1, position {stop_found + 1}</div>\n\n        return (\n            <Container>\n\n                <div className=\"flow_root\">\n                    <nav aria-label=\"Page navigation\" className=\"float-start\">\n                        <ul id=\"pagination\" className=\"pagination\">\n                            <li className=\"page-item active\" data-color=\"primary\" onClick={() => {\n                                this.stepHandler(1)\n                            }}><button className=\"page-link\"><span\n                                className=\"badge bg-light text-primary\">Step 1</span><span\n                                className=\"ms-1\">Standard, enzymes & params</span></button>\n                            </li>\n                            <li className=\"page-item\" data-color=\"primary\" onClick={() => {\n                                this.stepHandler(2)\n                            }}><button className=\"page-link\"><span\n                                className=\"badge bg-primary\">Step 2</span><span\n                                className=\"ms-1\">Sequence</span></button>\n                            </li>\n                            <li className=\"page-item\" data-color=\"primary\" onClick={() => {\n                                this.stepHandler(3)\n                            }}><button className=\"page-link\"><span\n                                className=\"badge bg-primary\">Step 3</span><span\n                                className=\"ms-1\">Domestication</span></button></li>\n                            <li className=\"page-item\" data-color=\"success\" onClick={() => {\n                                this.stepHandler(4)\n                            }}><button className=\"page-link\"><span\n                                className=\"badge bg-success\">Result 1</span><span\n                                className=\"ms-1 text-success fw-bold\">Final sequence</span></button></li>\n                            <li className=\"page-item\" data-color=\"success\" onClick={() => {\n                                this.stepHandler(5)\n                            }}><button className=\"page-link\"><span\n                                className=\"badge bg-success\">Result 2</span><span\n                                className=\"ms-1 text-success fw-bold\">Oligos</span></button></li>\n                        </ul>\n                    </nav>\n                    <button className=\"btn btn-secondary me-2 float-end\" onClick={() => {\n                            this.resetState()\n                    }}><i class=\"bi bi-arrow-clockwise\"></i></button>\n                </div>\n                <div id=\"steps\" className=\"border alert alert-light mb-4\">\n                    <div className=\"collapse show\">\n                        <h3>Standard</h3>\n                        <FloatingLabel controlId=\"partStandardInput\" label=\"Assembly Standard\">\n                            <Form.Select onChange={this.partStandardChangeHandle} aria-label=\"Part standard input\">\n                                {this.partStandardInputItems}\n                            </Form.Select>\n                        </FloatingLabel>\n                        <h3 className=\"mt-2\">Position</h3>\n                        <OHInput standard={this.state.standard} oh=\"5\" cv={this.state.oh5}\n                                 handler={this.OH5InputChangeHandle} />\n                        {custom_oh5_input}\n                        <OHInput standard={this.state.standard} oh=\"3\" cv={this.state.oh3}\n                                 handler={this.OH3InputChangeHandle} />\n                        {custom_oh3_input}\n                        <h3 className=\"mt-2\">Enzymes</h3>\n                        <Form.Text className=\"text-muted\">\n                            Domestication enzymes\n                        </Form.Text>\n                        <Select options={domesticationEnzymesOptions} value={this.getEnzymesSelect(this.state.enzymes)}\n                                isMulti className=\"basic-multi-select mb-2\" classNamePrefix=\"select\"\n                                onChange={this.domEnzymesInputChangeHandle}/>\n                        <h3 className=\"mt-2\">Parameters</h3>\n                        <div>\n                            <FloatingLabel controlId=\"pcrMinLengthInput\"\n                                           label=\"Length under which part is prepared by GBlock or oligo annealing instead of PCR\">\n                                <FormControl onChange={this.pcrMinLengthInputChangeHandle}\n                                             value={this.state.pcrMinLength} aria-label=\"pcr/oann min length\"/>\n                            </FloatingLabel>\n                            <FloatingLabel controlId=\"pcrTmInput\" label=\"Tm PCR primers °C\">\n                                <FormControl onChange={this.pcrTmInputChangeHandle}\n                                             value={this.state.pcrTm} aria-label=\"PCR Tm primers\"/>\n                            </FloatingLabel>\n                            <FloatingLabel controlId=\"basePairsFromEnd\" label=\"Base pairs from end\">\n                                <FormControl onChange={this.basePairsFromEndInputChangeHandle}\n                                             value={this.state.base_pairs_from_end} aria-label=\"Base pairs from end\"/>\n                            </FloatingLabel>\n                        </div>\n                        <Pagination step={1} position=\"b\" stepHandler={this.stepHandler}></Pagination>\n                    </div>\n                    <div className=\"collapse\">\n                        <h3>Part name</h3>\n                        <FloatingLabel controlId=\"nameInput\" label=\"Name Input\">\n                            <FormControl onChange={this.nameInputChangeHandle}\n                                         value={this.state.name} aria-label=\"Name Input\"/>\n                        </FloatingLabel>\n                        <h3 className=\"mt-2\">Sequence ({this.state.sequence.length} bp)</h3>\n                        <FloatingLabel controlId=\"sequenceInput\" label=\"Sequence Input\">\n                            <FormControl onChange={this.sequenceInputChangeHandle} as=\"textarea\"\n                                         value={this.state.sequence} aria-label=\"Sequence Input\"/>\n                            <Form.Text className=\"text-muted\">\n                                Non ATGC characters are automatically removed.\n                            </Form.Text>\n                        </FloatingLabel>\n                        {atg_output}\n                        {stop_output}\n                        <Pagination step={2} position=\"b\" stepHandler={this.stepHandler}></Pagination>\n                    </div>\n                    {output}\n                </div>\n            </Container>\n        )\n    }\n}\n\nexport default L0D\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport L0D from './L0D-main';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<React.StrictMode>\n    <L0D />\n    </React.StrictMode>,\n  document.getElementById('root-l0d')\n);\n"],"sourceRoot":""}